<Window x:Class="HospitalNet.Frontend.Dialogs.MedicalRecordForm"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Complete Patient Visit"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False"
        Width="700"
        Height="800"
        Background="{StaticResource BackgroundBrush}"
        WindowStyle="SingleBorderWindow"
        ResizeMode="NoResize">
    
    <Grid Background="{StaticResource BackgroundBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Orientation="Vertical" Margin="20" Background="Transparent">
            <TextBlock x:Name="TitleTextBlock" Text="Complete Patient Visit" FontSize="{StaticResource FontSizeXLarge}" FontWeight="Bold" Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,5"/>
            <TextBlock x:Name="PatientInfoTextBlock" Text="" FontSize="{StaticResource FontSizeSmall}" Foreground="{StaticResource TextSecondaryBrush}"/>
        </StackPanel>

        <!-- Form Content -->
        <ScrollViewer Grid.Row="1" Margin="20,0,20,20" Background="Transparent">
            <StackPanel Orientation="Vertical" Background="Transparent">
                <!-- Vital Signs -->
                <TextBlock Text="Vital Signs" FontWeight="Bold" Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,10" FontSize="{StaticResource FontSizeMedium}"/>
                <TextBox x:Name="VitalSignsTextBox" Height="60" Padding="10,10,10,10" VerticalAlignment="Top" VerticalContentAlignment="Top" TextWrapping="Wrap" Style="{StaticResource StandardTextBoxStyle}" Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,20" Background="{StaticResource SurfaceColor}"/>

                <!-- Clinical Notes -->
                <TextBlock Text="Clinical Notes *" FontWeight="Bold" Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,10" FontSize="{StaticResource FontSizeMedium}"/>
                <TextBox x:Name="ClinicalNotesTextBox" Height="100" Padding="10,10,10,10" VerticalAlignment="Top" VerticalContentAlignment="Top" TextWrapping="Wrap" Style="{StaticResource StandardTextBoxStyle}" Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,20" Background="{StaticResource SurfaceColor}"/>

                <!-- Diagnosis -->
                <TextBlock Text="Diagnosis *" FontWeight="Bold" Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,10" FontSize="{StaticResource FontSizeMedium}"/>
                <TextBox x:Name="DiagnosisTextBox" Height="80" Padding="10,10,10,10" VerticalAlignment="Top" VerticalContentAlignment="Top" TextWrapping="Wrap" Style="{StaticResource StandardTextBoxStyle}" Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,20" Background="{StaticResource SurfaceColor}"/>

                <!-- Prescription -->
                <TextBlock Text="Prescription/Treatment Plan *" FontWeight="Bold" Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,10" FontSize="{StaticResource FontSizeMedium}"/>
                <TextBox x:Name="PrescriptionTextBox" Height="100" Padding="10,10,10,10" VerticalAlignment="Top" VerticalContentAlignment="Top" TextWrapping="Wrap" Style="{StaticResource StandardTextBoxStyle}" Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,20" Background="{StaticResource SurfaceColor}"/>

                <!-- Follow-up Required -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                    <CheckBox x:Name="FollowUpRequiredCheckBox" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <TextBlock Text="Follow-up Required" FontWeight="Bold" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                </StackPanel>

                <!-- Follow-up Notes (Hidden unless checkbox is checked) -->
                <TextBlock Text="Follow-up Notes" FontWeight="Bold" Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,10" FontSize="{StaticResource FontSizeMedium}"/>
                <TextBox x:Name="FollowUpNotesTextBox" Height="80" Padding="10,10,10,10" VerticalAlignment="Top" VerticalContentAlignment="Top" TextWrapping="Wrap" Style="{StaticResource StandardTextBoxStyle}" Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,20" Background="{StaticResource SurfaceColor}"/>

                <!-- Status Message -->
                <TextBlock x:Name="StatusTextBlock" Text="" FontSize="{StaticResource FontSizeSmall}" Foreground="{StaticResource TextSecondaryBrush}" Margin="0,10,0,0"/>
            </StackPanel>
        </ScrollViewer>

        <!-- Footer Buttons -->
        <Border Grid.Row="2" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,1,0,0" Padding="20" Background="{StaticResource SurfaceColor}">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Height="40">
                <!-- Cancel Button -->
                <Button x:Name="CancelButton" Content="Cancel" Width="100" Height="40" Style="{StaticResource SecondaryButtonStyle}" Click="CancelButton_Click" Cursor="Hand" Margin="0,0,10,0"/>
                
                <!-- Save Button -->
                <Button x:Name="SaveButton" Content="Save & Complete" Width="150" Height="40" Style="{StaticResource PrimaryButtonStyle}" Click="SaveButton_Click" Cursor="Hand"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
